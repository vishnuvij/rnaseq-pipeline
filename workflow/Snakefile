# workflow/Snakefile
# Download RNA-seq data with fastq-dl and run FastQC

FASTQC_DIR = "results/fastqc"

rule all:
    input:
        f"{FASTQC_DIR}/SRR1552444_1_fastqc.html"

rule download_fastq:
    output:
        "data/SRR1552444_1.fastq.gz"
    shell:
        """
        fastq-dl --accession SRR1552444 --outdir data --provider ena
        """

rule fastqc:
    input:
        "data/SRR1552444_1.fastq.gz"
    output:
        html = f"{FASTQC_DIR}/SRR1552444_1_fastqc.html",
        zip  = f"{FASTQC_DIR}/SRR1552444_1_fastqc.zip"
    shell:
        """
        fastqc {input} --outdir {FASTQC_DIR}
        """
